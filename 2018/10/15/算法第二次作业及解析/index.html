<!DOCTYPE html>


  <html class="light page-post">


<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>算法第二次作业及解析 | Welcome To Vientiane</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="作业,算法,">
  

  <meta name="description" content="算法分析题  下面的 7 个算法与本章中的二分搜索算法 BinarySearch 略有不同。请判断这 7 个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2  （1）   不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 4 时，将陷入死循环。  （2）   不正确，数组右游标将导致 x = a[n-1] 时无法获">
<meta name="keywords" content="作业,算法">
<meta property="og:type" content="article">
<meta property="og:title" content="算法第二次作业及解析">
<meta property="og:url" content="https://vanxnf.top/2018/10/15/算法第二次作业及解析/index.html">
<meta property="og:site_name" content="Welcome To Vientiane">
<meta property="og:description" content="算法分析题  下面的 7 个算法与本章中的二分搜索算法 BinarySearch 略有不同。请判断这 7 个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2  （1）   不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 4 时，将陷入死循环。  （2）   不正确，数组右游标将导致 x = a[n-1] 时无法获">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-10-15T10:39:28.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="算法第二次作业及解析">
<meta name="twitter:description" content="算法分析题  下面的 7 个算法与本章中的二分搜索算法 BinarySearch 略有不同。请判断这 7 个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2  （1）   不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 4 时，将陷入死循环。  （2）   不正确，数组右游标将导致 x = a[n-1] 时无法获">

  

  
    <link rel="icon" href="https://s2.ax1x.com/2019/02/26/kIdbcj.png">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-135193763-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?2459534f22d42d1bf3c0f6a86047e44b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  <link href="https://cdn.bootcss.com/KaTeX/0.7.1/katex.min.css" rel="stylesheet">

</head>
</html>
<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">指北</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">指北</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/archives/" rel="noopener noreferrer" target="_self">
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/category/" rel="noopener noreferrer" target="_self">
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/tag/" rel="noopener noreferrer" target="_self">
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/about/" rel="noopener noreferrer" target="_self">
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/search/" rel="noopener noreferrer" target="_self">
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#算法分析题"><span class="toc-text"> 算法分析题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#下面的-7-个算法与本章中的二分搜索算法-binarysearch-略有不同-请判断这-7-个算法的正确性-如果算法不正确请说明产生错误的原因-如果算法正确请给出算法的正确性证明-2-2"><span class="toc-text"> 下面的 7 个算法与本章中的二分搜索算法 BinarySearch 略有不同。请判断这 7 个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1"><span class="toc-text"> （1）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2"><span class="toc-text"> （2）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3"><span class="toc-text"> （3）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4"><span class="toc-text"> （4）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5"><span class="toc-text"> （5）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6"><span class="toc-text"> （6）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7"><span class="toc-text"> （7）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对所给元素存储于数组中和存储于链表中两种情形写出自然合并排序算法-2-11"><span class="toc-text"> 对所给元素存储于数组中和存储于链表中两种情形，写出自然合并排序算法  2-11</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#存储于数组中"><span class="toc-text"> 存储于数组中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#存储于链表中"><span class="toc-text"> 存储于链表中</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何修改-quicksort-算法才能使其将输入元素按非增序排序2-13"><span class="toc-text"> 如何修改 QuickSort 算法才能使其将输入元素按非增序排序？2-13</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#算法实现题"><span class="toc-text"> 算法实现题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#有重复元素的排列问题-2-5"><span class="toc-text"> 有重复元素的排列问题。2-5</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#解题思路"><span class="toc-text"> 解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#算法实现"><span class="toc-text"> 算法实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集合划分问题-2-8"><span class="toc-text"> 集合划分问题。 2-8</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#解题思路-2"><span class="toc-text"> 解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#算法实现-2"><span class="toc-text"> 算法实现</span></a></li></ol></li></ol></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-算法第二次作业及解析" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">算法第二次作业及解析</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2018.10.15</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>VanXNF</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/Homework/">Homework</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <h1 id="算法分析题"><a class="markdownIt-Anchor" href="#算法分析题"></a> 算法分析题</h1>
<h2 id="下面的-7-个算法与本章中的二分搜索算法-binarysearch-略有不同-请判断这-7-个算法的正确性-如果算法不正确请说明产生错误的原因-如果算法正确请给出算法的正确性证明-2-2"><a class="markdownIt-Anchor" href="#下面的-7-个算法与本章中的二分搜索算法-binarysearch-略有不同-请判断这-7-个算法的正确性-如果算法不正确请说明产生错误的原因-如果算法正确请给出算法的正确性证明-2-2"></a> 下面的 7 个算法与本章中的二分搜索算法 BinarySearch 略有不同。请判断这 7 个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2</h2>
<h3 id="1"><a class="markdownIt-Anchor" href="#1"></a> （1）</h3>
<p>  不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 4 时，将陷入死循环。</p>
<h3 id="2"><a class="markdownIt-Anchor" href="#2"></a> （2）</h3>
<p>  不正确，数组右游标将导致 x = a[n-1] 时无法获取正确结果。</p>
<h3 id="3"><a class="markdownIt-Anchor" href="#3"></a> （3）</h3>
<p>  不正确，数组右游标将导致 x = a[n-1] 时无法获取正确结果。</p>
<h3 id="4"><a class="markdownIt-Anchor" href="#4"></a> （4）</h3>
<p>  不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 4 时，将陷入死循环。</p>
<h3 id="5"><a class="markdownIt-Anchor" href="#5"></a> （5）</h3>
<p>  正确，比如在数组 1 2 3 4 4 中，当 x 取值为 1 或 3 或 4 或 5 这几个特殊位置时，算法工作正确，均可以返回正确的下标，且存在重复值时返回重复值最右侧的下标。</p>
<h3 id="6"><a class="markdownIt-Anchor" href="#6"></a> （6）</h3>
<p>  不正确，数组左右游标移动不正确，在数组有重复元素时，无法返回正确结果。</p>
<h3 id="7"><a class="markdownIt-Anchor" href="#7"></a> （7）</h3>
<p>  不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 1 或 2 时，将陷入死循环。</p>
<h2 id="对所给元素存储于数组中和存储于链表中两种情形写出自然合并排序算法-2-11"><a class="markdownIt-Anchor" href="#对所给元素存储于数组中和存储于链表中两种情形写出自然合并排序算法-2-11"></a> 对所给元素存储于数组中和存储于链表中两种情形，写出自然合并排序算法  2-11</h2>
<h3 id="存储于数组中"><a class="markdownIt-Anchor" href="#存储于数组中"></a> 存储于数组中</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 进行自然分组，并记录每个子串的起始坐标</span></span><br><span class="line"><span class="comment"> * @param source 分组元数据</span></span><br><span class="line"><span class="comment"> * @param record 记录子串起始坐标</span></span><br><span class="line"><span class="comment"> * @param len 分组元数据个数</span></span><br><span class="line"><span class="comment"> * @param count 自然分组个数(子串起始坐标个数)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">NaturalGrouping</span>(<span class="title">Type</span> <span class="title">source</span>[], <span class="title">Type</span> <span class="title">record</span>[], <span class="title">int</span> <span class="title">len</span>, <span class="title">int</span> &amp;<span class="title">count</span>) &#123;</span></span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    record[j++] = <span class="number">0</span>;<span class="comment">//第一个子串起始坐标为 0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(source[i + <span class="number">1</span>] &lt; source[i]) &#123;</span><br><span class="line">            record[j++] = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    count = j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 合并c[l:m]和c[m+1:r]到d[1:r]</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Merge</span>(<span class="title">Type</span> <span class="title">c</span>[], <span class="title">Type</span> <span class="title">d</span>[], <span class="title">int</span> <span class="title">l</span>, <span class="title">int</span> <span class="title">m</span>, <span class="title">int</span> <span class="title">r</span>) &#123;</span></span><br><span class="line">    <span class="keyword">int</span> i = l, j = m + <span class="number">1</span>, k = l;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= m &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">if</span> (c[i] &lt;= c[j]) &#123;</span><br><span class="line">            d[k++] = c[i++];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            d[k++] = c[j++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; m) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> q = j; q &lt;= r; q++) &#123;</span><br><span class="line">            d[k++] = c[q];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> q = i; q &lt;= m; q++) &#123;</span><br><span class="line">            d[k++] = c[q];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param num 当前子数组个数</span></span><br><span class="line"><span class="comment"> * @param count 子数组总个数</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">MergePass</span>(<span class="title">Type</span> <span class="title">x</span>[], <span class="title">Type</span> <span class="title">y</span>[], <span class="title">Type</span> <span class="title">t</span>[], <span class="title">int</span> <span class="title">num</span>, <span class="title">int</span> <span class="title">len</span>, <span class="title">int</span> <span class="title">count</span>) &#123;</span></span><br><span class="line">    <span class="comment">// 合并自然分组后相邻的子数组</span></span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= count - <span class="number">2</span> * num) &#123;</span><br><span class="line">        <span class="comment">// 当自然分组后的子数组个数为偶数时, r = n, 表示恰好两两合并</span></span><br><span class="line">        <span class="keyword">int</span> r = ((i + <span class="number">2</span> * num) &lt; count) ? t[i + <span class="number">2</span> * num] : len;</span><br><span class="line">        Merge(x, y, t[i], t[i + num] - <span class="number">1</span>, r - <span class="number">1</span>);</span><br><span class="line">        i = i + <span class="number">2</span> * num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i + num &lt; count) &#123;</span><br><span class="line">        Merge(x, y, t[i], t[i + num] - <span class="number">1</span>, len - <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i &lt; count) &#123;</span><br><span class="line">        <span class="comment">// 剩余元素直接复制</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = t[i]; j &lt;= len - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            y[j] = x[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param source 分组元数据</span></span><br><span class="line"><span class="comment"> * @param record 子串起始坐标数据</span></span><br><span class="line"><span class="comment"> * @param len 分组元数据个数</span></span><br><span class="line"><span class="comment"> * @param count 自然分组个数</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">MergeSort</span>(<span class="title">Type</span> <span class="title">source</span>[], <span class="title">Type</span> <span class="title">record</span>[], <span class="title">int</span> <span class="title">len</span>, <span class="title">int</span> <span class="title">count</span>) &#123;</span></span><br><span class="line">    Type *anotherSource = <span class="keyword">new</span> Type[len];</span><br><span class="line">    <span class="keyword">int</span> size = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (size &lt; count) &#123;</span><br><span class="line">        <span class="comment">// 合并到数组 anotherSource</span></span><br><span class="line">        MergePass(source, anotherSource, record, size, len, count);</span><br><span class="line">        size += size;</span><br><span class="line">        <span class="comment">// 合并到数组 source</span></span><br><span class="line">        MergePass(anotherSource, source, record, size, len, count);</span><br><span class="line">        size += size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="存储于链表中"><a class="markdownIt-Anchor" href="#存储于链表中"></a> 存储于链表中</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 链表节点结构体</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">link</span> &#123;</span></span><br><span class="line">    link(T value, link* next = <span class="literal">nullptr</span>) : next(next), value(value) &#123;&#125;</span><br><span class="line">    link *next;</span><br><span class="line">    T value;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 合并链表</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Compare&gt;</span><br><span class="line">link&lt;T&gt; *merge(link&lt;T&gt; *list1, link&lt;T&gt; *list2, Compare compare) &#123;</span><br><span class="line">    link&lt;T&gt; *merged = <span class="literal">nullptr</span>, **mergedEnd = &amp;merged;</span><br><span class="line">    <span class="keyword">while</span> (list1 &amp;&amp; list2) &#123;</span><br><span class="line">        <span class="keyword">if</span> (compare(list1 -&gt; value, list2 -&gt; value)) &#123;</span><br><span class="line">            *mergedEnd = list1;</span><br><span class="line">            list1 = list1 -&gt; next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            *mergedEnd = list2;</span><br><span class="line">            list2 = list2 -&gt; next;</span><br><span class="line">        &#125;</span><br><span class="line">        mergedEnd = &amp;((*mergedEnd) -&gt; next);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (list1) &#123;</span><br><span class="line">        *mergedEnd = list1;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        *mergedEnd = list2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> merged;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置默认排序规则</span></span><br><span class="line"><span class="comment"> * 增序-less_equal&lt;T&gt;()</span></span><br><span class="line"><span class="comment"> * 降序-greater_equal&lt;T&gt;()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">link&lt;T&gt; *NaturalMergeSort (link&lt;T&gt; *<span class="built_in">list</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> NaturalMergeSort(<span class="built_in">list</span>, less_equal&lt;T&gt;());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Compare&gt;</span><br><span class="line">link&lt;T&gt; *NaturalMergeSort(link&lt;T&gt; *<span class="built_in">list</span>, Compare compare) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;link&lt;T&gt;*&gt; <span class="built_in">stack</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">list</span>) &#123;</span><br><span class="line">        link&lt;T&gt; *run = <span class="built_in">list</span>, *runEnd = run;</span><br><span class="line">        <span class="built_in">list</span> = <span class="built_in">list</span> -&gt; next;</span><br><span class="line">        run -&gt; next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="comment">//自然分组</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">list</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (compare(runEnd -&gt; value, <span class="built_in">list</span> -&gt; value)) &#123;</span><br><span class="line">                runEnd -&gt; next = <span class="built_in">list</span>;</span><br><span class="line">                runEnd = <span class="built_in">list</span>;</span><br><span class="line">                <span class="built_in">list</span> = <span class="built_in">list</span> -&gt; next;</span><br><span class="line">                runEnd -&gt; next = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!compare(run -&gt; value, <span class="built_in">list</span> -&gt; value)) &#123;</span><br><span class="line">                link&lt;T&gt; *tmp = <span class="built_in">list</span>;</span><br><span class="line">                <span class="built_in">list</span> = <span class="built_in">list</span> -&gt; next;</span><br><span class="line">                tmp -&gt; next = run;</span><br><span class="line">                run = tmp;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (; i &lt; <span class="built_in">stack</span>.size(); ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">stack</span>[i])</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            run = merge(run, <span class="built_in">stack</span>[i], compare);</span><br><span class="line">            <span class="built_in">stack</span>[i] = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="built_in">stack</span>.size()) &#123;</span><br><span class="line">            <span class="built_in">stack</span>[i] = run;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">stack</span>.push_back(run);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//合并链表</span></span><br><span class="line">    <span class="built_in">list</span> = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">for</span> (link&lt;T&gt; *tmp : <span class="built_in">stack</span>) &#123;</span><br><span class="line">        <span class="built_in">list</span> = merge(<span class="built_in">list</span>, tmp, compare);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="如何修改-quicksort-算法才能使其将输入元素按非增序排序2-13"><a class="markdownIt-Anchor" href="#如何修改-quicksort-算法才能使其将输入元素按非增序排序2-13"></a> 如何修改 QuickSort 算法才能使其将输入元素按非增序排序？2-13</h2>
<p>将 QuickSort 调用的  Partition() 函数中的：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (a[i++] &lt; x &amp;&amp; i &lt; r);</span><br><span class="line"><span class="keyword">while</span> (a[j--] &gt; x);</span><br></pre></td></tr></table></figure>
<p>  改为：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (a[i++] &gt; x &amp;&amp; i &lt; r);</span><br><span class="line"><span class="keyword">while</span> (a[j--] &lt; x);</span><br></pre></td></tr></table></figure>
<p>  即可实现降序排序。</p>
<h1 id="算法实现题"><a class="markdownIt-Anchor" href="#算法实现题"></a> 算法实现题</h1>
<h2 id="有重复元素的排列问题-2-5"><a class="markdownIt-Anchor" href="#有重复元素的排列问题-2-5"></a> 有重复元素的排列问题。2-5</h2>
<p><strong>问题描述：</strong> 设 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>=</mo><mrow><msub><mi>r</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>3</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>r</mi><mi>n</mi></msub></mrow></mrow><annotation encoding="application/x-tex">R = {r_1,r_2,r_3,...,r_n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mrel">=</span><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">3</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span></span> 是要进行排列的 n 个元素。其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>3</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>r</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">r_1, r_2, r_3,...,r_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">3</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 可能相同。试设计一个算法，列出 R 的所有不同排列。</p>
<p><strong>算法设计：</strong> 给定 n 及待排列的 n 个元素。计算出这 n 个元素的所有不同排列。</p>
<p><strong>数据输入：</strong> 由文件 input.txt 提供输入数据。文件的第一行时元素个数 n，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>5</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">1 \leq n \leq 500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mrel">≤</span><span class="mord mathit">n</span><span class="mrel">≤</span><span class="mord mathrm">5</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span></span></span></span>。接下来的 1 行是待排列的 n 个元素。</p>
<p><strong>结果输出：</strong> 将计算出的 n 个元素的所有不同排列输出到文件 output.txt。文件最后 1 行中的数是排列总数。</p>
<p><strong>示例：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">输入文件示例</th>
<th style="text-align:center">输出文件示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">input.txt</td>
<td style="text-align:center">output.txt</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">aacc</td>
</tr>
<tr>
<td style="text-align:center">aacc</td>
<td style="text-align:center">acac</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">acca</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">caac</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">caca</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">ccaa</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">6</td>
</tr>
</tbody>
</table>
<h3 id="解题思路"><a class="markdownIt-Anchor" href="#解题思路"></a> 解题思路</h3>
<ul>
<li>全排列是第一个元素起，每个元素分别与它后面的元素交换位置。</li>
<li>有重复元素全排列，需要在进行变换时，对变换结果判定结果的唯一性。</li>
<li>全排列中去掉重复的规则：从第一个元素起每个元素分别与它后面非重复出现的元素交换。即第 i 个元素与第 j 个元素交换时，要求 [i, j) 中没有与第 j 个元素相等的元素。</li>
</ul>
<h3 id="算法实现"><a class="markdownIt-Anchor" href="#算法实现"></a> 算法实现</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">ReadFile</span>(<span class="title">int</span> &amp;<span class="title">n</span>, <span class="title">Type</span> <span class="title">list</span>[]) &#123;</span></span><br><span class="line">    ifstream in;</span><br><span class="line">    in.open(<span class="string">"../input.txt"</span>);</span><br><span class="line">    <span class="keyword">int</span> line = <span class="number">1</span>;<span class="comment">//行号标记</span></span><br><span class="line">    <span class="built_in">string</span> s;<span class="comment">//承载读取的每一行内容</span></span><br><span class="line">    <span class="keyword">while</span> (getline(in, s)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (line == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="function"><span class="built_in">istringstream</span> <span class="title">lineStr</span><span class="params">(s)</span></span>;</span><br><span class="line">            lineStr &gt;&gt; n;<span class="comment">//将字符转为 int 值</span></span><br><span class="line">            line ++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="built_in">list</span>[i] = s[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    in.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过引用交换元素</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Swap</span><span class="params">(<span class="keyword">char</span> &amp;a, <span class="keyword">char</span> &amp;b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 寻找 [start, end) 之间是否存在与 end 代表相同的元素</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">bool</span> <span class="title">FindSameElement</span>(<span class="title">Type</span> <span class="title">list</span>[], <span class="title">int</span> <span class="title">start</span>, <span class="title">int</span> <span class="title">end</span>) &#123;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; end; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">list</span>[end] == <span class="built_in">list</span>[i]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 递归全排列，并将排列写入文件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Type</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Perm</span>(<span class="title">Type</span> <span class="title">list</span>[], <span class="title">int</span> <span class="title">start</span>, <span class="title">int</span> <span class="title">end</span>, <span class="title">ofstream</span> &amp;<span class="title">out</span>) &#123;</span></span><br><span class="line">    <span class="keyword">if</span> (start == end) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; end; ++i) &#123;</span><br><span class="line">            out&lt;&lt;<span class="built_in">list</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">        out&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        count ++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; end; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (FindSameElement(<span class="built_in">list</span>, start, i)) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Swap(<span class="built_in">list</span>[start], <span class="built_in">list</span>[i]);</span><br><span class="line">            Perm(<span class="built_in">list</span>, start+<span class="number">1</span>, end, out);</span><br><span class="line">            Swap(<span class="built_in">list</span>[start], <span class="built_in">list</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">list</span>[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">    ReadFile(n, <span class="built_in">list</span>);</span><br><span class="line"></span><br><span class="line">    ofstream out;</span><br><span class="line">    out.open(<span class="string">"../output.txt"</span>);</span><br><span class="line">    Perm(<span class="built_in">list</span>, <span class="number">0</span>, n, out);</span><br><span class="line">    out&lt;&lt;count;</span><br><span class="line">    out.close();</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"It works!"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="集合划分问题-2-8"><a class="markdownIt-Anchor" href="#集合划分问题-2-8"></a> 集合划分问题。 2-8</h2>
<p><strong>问题描述：</strong> n 个元素的集合 {1, 2, …, n} 可以划分为若干非空子集。例如，当 n = 4 时，集合 {1, 2, 3 , 4} 可以划分为 15 个不同的非空子集如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">{ {1}, {2}, {3}, {4} }</th>
<th style="text-align:center">{ {1, 3}, {2, 4} }</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">{ {1, 2}, {3}, {4} }</td>
<td style="text-align:center">{ {1, 4}, {2, 3} }</td>
</tr>
<tr>
<td style="text-align:center">{ {1, 3}, {2}, {4} }</td>
<td style="text-align:center">{ {1, 2, 3}, {4} }</td>
</tr>
<tr>
<td style="text-align:center">{ {1, 4}, {2}, {3} }</td>
<td style="text-align:center">{ {1, 2, 4}, {3} }</td>
</tr>
<tr>
<td style="text-align:center">{ {2, 3}, {1}, {4} }</td>
<td style="text-align:center">{ {1, 3, 4}, {2} }</td>
</tr>
<tr>
<td style="text-align:center">{ {2, 4}, {1}, {3} }</td>
<td style="text-align:center">{ {2, 3, 4}, {1} }</td>
</tr>
<tr>
<td style="text-align:center">{ {3, 4}, {1}, {2} }</td>
<td style="text-align:center">{ {1, 2, 3, 4} }</td>
</tr>
<tr>
<td style="text-align:center">{ {1, 2}, {3, 4} }</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>  其中，集合 { {1, 2, 3, 4} } 由一个子集组成；集合 { {1, 2}, {3, 4} } ，{ {1, 3}, {2, 4} }，{ {1, 4}, {2, 3} }，{ {1, 2, 3}, {4} }，{ {1, 2, 4}, {3} }，{ {1, 3, 4}, {2} }，{ {2, 3, 4}, {1} } 由两个子集组成；集合{ {1, 2}, {3}, {4} }，{ {1, 3}, {2}, {4} }，{ {1, 4}, {2}, {3} }，{ {2, 3}, {1}, {4} }，{ {2, 4}, {1}, {3} }，{ {3, 4}, {1}, {2} } 由三个子集组成；集合 { {1}, {2}, {3}, {4} } 由四个子集组成。</p>
<p><strong>算法设计：</strong> 给定正整数 n 和 m，计算出 n 个元素的集合 {1, 2, …, n} ，可以划分为多少个不同的由 m 个非空子集组成的集合。</p>
<p><strong>数据输入：</strong> 由文件 input.txt 提供输入数据。文件的第一行是元素个数 n 和非空子集数 m。</p>
<p><strong>结果输出：</strong> 将计算出的不同的由 m 个非空子集组成的集合数输出到文件 output.txt。</p>
<p><strong>示例：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">输入文件示例</th>
<th style="text-align:center">输出文件示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">input.txt</td>
<td style="text-align:center">output.txt</td>
</tr>
<tr>
<td style="text-align:center">4 3</td>
<td style="text-align:center">6</td>
</tr>
</tbody>
</table>
<h3 id="解题思路-2"><a class="markdownIt-Anchor" href="#解题思路-2"></a> 解题思路</h3>
<p>  把 n 个元素编号，对于最后那个 n 号元素，有两种情况:</p>
<ul>
<li>独立组成一个集合</li>
<li>与其他元素组成一个集合</li>
</ul>
<p>  对于第一种情况，将前面 n-1 个元素分成 m-1 个集合，n 号元素单独组成集合。</p>
<p>  对于第二种情况，将前面 n-1 个元素分成 m 个集合，n 号元素放入前 m 个集合中的一个。</p>
<p>  划分总数为：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mo>(</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>)</mo><mo>=</mo><mi>F</mi><mo>(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo>)</mo><mo>+</mo><mi>m</mi><mo>×</mo><mi>F</mi><mo>(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>m</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">F(n,m) =F(n-1,m-1) + m \times F(n-1,m)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mpunct">,</span><span class="mord mathit">m</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">1</span><span class="mpunct">,</span><span class="mord mathit">m</span><span class="mbin">−</span><span class="mord mathrm">1</span><span class="mclose">)</span><span class="mbin">+</span><span class="mord mathit">m</span><span class="mbin">×</span><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">1</span><span class="mpunct">,</span><span class="mord mathit">m</span><span class="mclose">)</span></span></span></span></span></p>
<p>  同时列举一下特殊情况：</p>
<ul>
<li>
<p>m = n 的情况，结果为 1。</p>
</li>
<li>
<p>m = 1 的情况，结果为 1。</p>
</li>
<li>
<p>n = 1 的情况，结果为 1。</p>
</li>
</ul>
<h3 id="算法实现-2"><a class="markdownIt-Anchor" href="#算法实现-2"></a> 算法实现</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SetPartition</span><span class="params">(<span class="keyword">int</span> n ,<span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((m &gt; n) || (m == <span class="number">0</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((m == <span class="number">1</span>) || (n == <span class="number">1</span>) || (m == n)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (SetPartition(n<span class="number">-1</span>, m<span class="number">-1</span>) + m * SetPartition(n<span class="number">-1</span>, m));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">    ifstream in;</span><br><span class="line">    ofstream out;</span><br><span class="line">    in.open(<span class="string">"../input.txt"</span>);</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="keyword">while</span> (getline(in, str)) &#123;</span><br><span class="line">        <span class="function"><span class="built_in">istringstream</span> <span class="title">line</span><span class="params">(str)</span></span>;</span><br><span class="line">        line &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    &#125;</span><br><span class="line">    in.close();</span><br><span class="line">    out.open(<span class="string">"../output.txt"</span>);</span><br><span class="line">    out &lt;&lt; SetPartition(n, m);</span><br><span class="line">    out.close();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"It Works"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    
  </div>

</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">支持一下</span>
      <div class="donation-body">
        <div class="tip text-center">扫一扫，请我喝一杯咖啡</div>
        <ul>
        
          <li class="item">
            
              <span>微信扫一扫</span>
            
            <img src="https://s2.ax1x.com/2019/02/26/kIhuj0.png" alt>
          </li>
        
          <li class="item">
            
              <span>支付宝扫一扫</span>
            
            <img src="https://s2.ax1x.com/2019/02/26/kIhENQ.jpg" alt>
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2018/10/06/Android-Studio-dev-kvm-device-permission-denied/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2018/10/27/Android-动画学习笔记/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/archives/" rel="noopener noreferrer" target="_self">
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/category/" rel="noopener noreferrer" target="_self">
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/tag/" rel="noopener noreferrer" target="_self">
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/about/" rel="noopener noreferrer" target="_self">
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/search/" rel="noopener noreferrer" target="_self">
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    
<script src="/js/md5.min.js"></script>

<!-- Gitalk评论插件通用代码 -->
<div id="gitalk-container"></div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
const gitalk = new Gitalk({
  clientID: '60c9ba811318dfcc2df7',
  clientSecret: '9759646a77acb3e9bfcf414806eabcbc55d9c082',
  repo: 'VanXNF.github.io',
  owner: 'VanXNF',
  // 在这里设置一下截取前50个字符串, 这是因为 github 对 label 的长度有了要求, 如果超过
  // 50个字符串则会报错.
  // id: location.pathname.split('/').pop().substring(0, 49),
  id: md5(location.href),
  // id: location.pathname,
  admin: ['VanXNF'],
  // facebook-like distraction free mode
  distractionFreeMode: false
})
gitalk.render('gitalk-container')
</script>
<!-- Gitalk代码结束 -->



  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
